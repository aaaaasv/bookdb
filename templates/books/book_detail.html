{% extends 'books/base.html' %}

{% block content %}
    <style>
        .pers {
            position: absolute;
            z-index: 10;
            visibility: hidden;
        }

        img:hover {
            filter: blur(3px);
        }

        .pers:hover {
            visibility: visible;
        }

        img:hover + .pers {
            visibility: visible;
        }

        .rat a {
            color: #FFFFFF;
            text-decoration: none;
        }
    </style>
    <form class="d-flex justify-content-center" action="../../upd/" method="post">
        {% csrf_token %}

        <input type='hidden' value='{{ book.id }}' name='id'>
        </div>
        <div class="card" style="width: 18rem;">
            <img style="" src="{{ book.cover_picture }}" class="card-img-top" alt="{{ book.title }}.picture">
            <div class="text-center w-100 pers">
                <span class="rat" style="color:white; font-size:3vw; cursor:pointer;"><a
                        href="{% url 'topbook-list' %}">{{ book.rating }}</a></span>
            </div>
            <div class="card-body d-flex flex-column align-items-center">
                <h5 class="card-title">{{ book.title }}</h5>
                <h6 class="card-title text-muted">{{ book.author }}</h6>
                <p class="card-text">{{ first_sentence }}</p>

                {{ form }}
                {% if user.is_authenticated %}

                    <input type="submit" value="Vote" class="btn btn-primary m-2">
                {% else %}
                    <input type="submit" value="Vote" class="btn btn-primary m-2 disabled">
                {% endif %}
                <span style='cursor:pointer' class="badge badge-primary m-3 p-2"
                      title="{{ book.rating_voters_number }} votes">
                    {{ book.rating }}
                </span>
                {#                <a href="{% url 'book:book-list' %}">Top</a>#}

            </div>
        </div>
    </form>
{% endblock %}